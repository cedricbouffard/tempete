<header class="site-header">
  <div class="container">
    <div class="header-content">
      <!-- Logo -->
      <a href="{{ "/" | relURL }}" class="logo">
        <span class="logo-icon">❄️</span>
        <span class="logo-text">{{ .Site.Title }}</span>
      </a>
      
      <!-- Navigation mobile toggle -->
      <button class="nav-toggle" aria-label="Menu" aria-expanded="false">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
      <!-- Navigation principale -->
      <nav class="main-nav" aria-label="Navigation principale">
        <ul class="nav-list">
          {{ range .Site.Menus.main }}
          <li class="nav-item">
            <a href="{{ .URL | relURL }}" class="nav-link{{ if $.IsMenuCurrent "main" . }} active{{ end }}">
              {{ .Name }}
            </a>
          </li>
          {{ end }}
        </ul>
        
        <!-- Recherche -->
        <div class="search-box">
          <input type="search" id="site-search" placeholder="Rechercher un modèle..." aria-label="Recherche">
          <button id="search-btn" aria-label="Lancer la recherche">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.35-4.35"></path>
            </svg>
          </button>
        </div>
        
        <!-- Sélecteur de langue (si multilingue) -->
        {{ if .Site.IsMultiLingual }}
        <div class="language-selector">
          {{ range .Site.Languages }}
          <a href="{{ $.RelPermalink | relLangURL }}" class="lang-link{{ if eq . $.Site.Language }} active{{ end }}">
            {{ .Lang | upper }}
          </a>
          {{ end }}
        </div>
        {{ end }}
      </nav>
    </div>
  </div>
</header>

<!-- Breadcrumb -->
{{ if not .IsHome }}
<nav class="breadcrumb" aria-label="Fil d'Ariane">
  <div class="container">
    <ol class="breadcrumb-list">
      <li><a href="{{ "/" | relURL }}">Accueil</a></li>
      {{ template "breadcrumbnav" (dict "p1" . "p2" .) }}
    </ol>
  </div>
</nav>
{{ end }}

{{ define "breadcrumbnav" }}
  {{ if .p1.Parent }}
    {{ template "breadcrumbnav" (dict "p1" .p1.Parent "p2" .p2) }}
  {{ end }}
  {{ if not .p1.IsHome }}
    {{ if eq .p1 .p2 }}
      <li aria-current="page">{{ .p1.Title }}</li>
    {{ else }}
      <li><a href="{{ .p1.RelPermalink }}">{{ .p1.Title }}</a></li>
    {{ end }}
  {{ end }}
{{ end }}
